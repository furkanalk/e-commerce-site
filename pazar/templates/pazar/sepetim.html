{% extends 'main/base.html'%}

{% block title %}
Sepet
{% endblock %}

{% block content %}
<img src = "{{ sepetim }}" width="150" height="500" class="ml-auto mr-auto -mt-2 mb-5"></img>

    {% if sepet|length %}
        {% for item in sepet %}
            <div class="px-4 py-4 mb-2 bg-white flex item-center rounded-xl shadow-lg">

                <div>
                    <img src="{{ item.beyazesya.image.url }}" class="w-32 h-32">
                </div>

                <div class="pl-6">
                    <h2 class="text-2xl"> {{ item.beyazesya.title }}</h2>
                    
                    <p class="text-sm text-gray">₺{{ item.beyazesya.get_display_price }}
                    <div class="mt-4 mb-4">
                        <a href="{% url 'miktar_belirle' item.beyazesya.id %}?action=artir" class="p-2 rounded-xl bg-orange-300 hover:bg-white hover:border hover:border-orange-400 duration-500 hover:text-orange-400 text-white">+</a>
                        {{ item.adet }}
                        <a href="{% url 'miktar_belirle' item.beyazesya.id %}?action=azalt"class="p-2 rounded-xl bg-orange-300 hover:bg-white hover:border hover:border-orange-400 duration-500 hover:text-orange-400 text-white">-</a>
                    </div>
                    <a href="{% url 'sepetten_kaldir' item.beyazesya.id %}" class="inline-block">
                        <svg class="h-7 w-7 text-red-400"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <polyline points="3 6 5 6 21 6" />  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />  <line x1="10" y1="11" x2="10" y2="17" />  <line x1="14" y1="11" x2="14" y2="17" /></svg>
                    </a>
                </div>
            </div>
        {% endfor %}
        
        <div class = "bg-white rounded shadow-lg px-4 py-4 text-center">
            <hr class="mt-4 mb-4">
            <div class = "flex justify-center">
                <strong>Toplam Tutar: </strong> <p class = "ml-2 font-bold text-green-600">{{ sepet.toplam_ucret }}</p> <t class = "ml-1"> ₺ </t>
            </div>

            <hr class="mt-4 mb-4">
            <div class = "flex justify-center">
                <a href="{% url 'odeme_yap' %}" class="hover:bg-white border border-orange-400 duration-500 hover:text-orange-400 px-8 py-4 bg-orange-400 text-white">Ödeme Yap</a>
            </div>
        </div>
        

    {% else %}
            <div class="px-6 py-6 bg-white grid justify-center font-medium">
            Sepetiniz boş gözüküyor.
            </div>
    {% endif %}
{% endblock %}